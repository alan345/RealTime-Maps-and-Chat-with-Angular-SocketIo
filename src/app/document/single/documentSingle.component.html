<div class="container">

  <div class="row">
    <div class="col-md-12">
      <h3>Document</h3>
      <form [formGroup]="myForm" novalidate (ngSubmit)="save()" (keydown.enter)="$event.preventDefault()">
        <app-autocomplete [typeAutocomplete]="'strat'" [search]="search" [canDelete]=true [title]="'Strat'" [singleChoice]=true [arrayContent]="fetchedDocument.strats">
        </app-autocomplete>
        <app-autocomplete [typeAutocomplete]="'mission'" [search]="search" [canDelete]=true [title]="" [singleChoice]=true [arrayContent]="fetchedDocument.missions">
        </app-autocomplete>
        <app-autocomplete [typeAutocomplete]="'brief'" [search]="search" [canDelete]=true [title]="" [singleChoice]=true [arrayContent]="fetchedDocument.briefs">
        </app-autocomplete>



        <mat-form-field>
          <input matInput type="text" formControlName="name" [(ngModel)]="fetchedDocument.details.name" placeholder="Name">
        </mat-form-field>


        <mat-form-field>
          <input matInput type="text" formControlName="link" [(ngModel)]="fetchedDocument.link" placeholder="link">
        </mat-form-field>


        <mat-form-field>
          <input matInput class="form-control col-md-4" type="text" formControlName="description" placeholder="description" [(ngModel)]="fetchedDocument.details.description">
        </mat-form-field>


        <div class="form-group">
          <app-picture [forms]="fetchedDocument.forms"></app-picture>
        </div>

        <app-autocomplete [typeAutocomplete]="'user'" [search]="search" [canDelete]=true [title]="'crewMembers'" [singleChoice]=true [arrayContent]="fetchedDocument.crewMembers">
        </app-autocomplete>
        <app-autocomplete [typeAutocomplete]="'user'" [search]="search" [canDelete]=true [title]="'reviewers'" [singleChoice]=true [arrayContent]="fetchedDocument.reviewers">
        </app-autocomplete>


        <div class="valid-edit">
          <button type="submit" class="done btn btn-success" [disabled]="!myForm.valid">{{'Save' }}</button>
          <button *ngIf="fetchedDocument._id" type="button" class="delete" md-button (click)="openDeleteConfirmation()">
            {{'Delete' }}
          </button>
        </div>
        <div class="clearfix"></div>
      </form>
    </div>
  </div>
</div>
